(function(o,d){typeof exports=="object"&&typeof module<"u"?module.exports=d(require("vue")):typeof define=="function"&&define.amd?define(["vue"],d):(o=typeof globalThis<"u"?globalThis:o||self,o.amazing_spider=d(o.Vue))})(this,function(o){"use strict";var H=Object.defineProperty;var R=(o,d,f)=>d in o?H(o,d,{enumerable:!0,configurable:!0,writable:!0,value:f}):o[d]=f;var a=(o,d,f)=>(R(o,typeof d!="symbol"?d+"":d,f),f);const T=[(c=>(o.pushScopeId("data-v-11c8bc56"),c=c(),o.popScopeId(),c))(()=>o.createElementVNode("canvas",{id:"amazing__spider"},null,-1))];return((c,m)=>{const l=c.__vccOpts||c;for(const[v,_]of m)l[v]=_;return l})(o.defineComponent({__name:"amazing__spider",props:{tentacle_start:{required:!1,type:String,default:"#ffffff"},tentacle_end:{required:!1,type:String,default:"#294CBE"},background_color:{required:!1,type:String,default:"#0c0c0d"},center_color:{required:!1,type:String,default:"#fff"},dots_color:{required:!1,type:String,default:"#fff"},dots_border_color:{required:!1,type:String,default:"#e7e8e6"}},setup(c){const m=c;let l={x:0,y:0},v=300,_=50,O=20,P=300,g=[],s={x:0,y:0,errx:0,erry:0},y={x:0,y:0},p=0,k=10;const W=()=>{let r=document.getElementById("amazing__spider");if(!r)return;let e=r==null?void 0:r.getContext("2d"),M=r.width=window.innerWidth,u=r.height=window.innerHeight;const x=(i,t,n,h)=>Math.sqrt(Math.pow(n-i,2)+Math.pow(h-t,2));class C{constructor(t,n,h,w){a(this,"first");a(this,"pos");a(this,"l");a(this,"ang");a(this,"nextPos");this.first=w,w?this.pos={x:t.x,y:t.y}:this.pos={x:t.nextPos.x,y:t.nextPos.y},this.l=n,this.ang=h,this.nextPos={x:this.pos.x+this.l*Math.cos(this.ang),y:this.pos.y+this.l*Math.sin(this.ang)}}update(t){this.ang=Math.atan2(t.y-this.pos.y,t.x-this.pos.x),this.pos.x=t.x+this.l*Math.cos(this.ang-Math.PI),this.pos.y=t.y+this.l*Math.sin(this.ang-Math.PI),this.nextPos.x=this.pos.x+this.l*Math.cos(this.ang),this.nextPos.y=this.pos.y+this.l*Math.sin(this.ang)}fallback(t){this.pos.x=t.x,this.pos.y=t.y,this.nextPos.x=this.pos.x+this.l*Math.cos(this.ang),this.nextPos.y=this.pos.y+this.l*Math.sin(this.ang)}show(){e==null||e.lineTo(this.nextPos.x,this.nextPos.y)}}class A{constructor(t,n,h,w,F){a(this,"x");a(this,"y");a(this,"l");a(this,"n");a(this,"t");a(this,"rand");a(this,"segments");a(this,"angle");a(this,"dt");this.x=t,this.y=n,this.l=h,this.n=w,this.t={},this.rand=Math.random(),this.segments=[new C(this,this.l/this.n,0,!0)];for(let I=1;I<this.n;I++)this.segments.push(new C(this.segments[I-1],this.l/this.n,0,!1))}move(t,n){this.angle=Math.atan2(n.y-this.y,n.x-this.x),this.dt=x(t.x,t.y,n.x,n.y)+5,this.t={x:n.x-.8*this.dt*Math.cos(this.angle),y:n.y-.8*this.dt*Math.sin(this.angle)},this.t.x?this.segments[this.n-1].update(this.t):this.segments[this.n-1].update(n);for(let h=this.n-2;h>=0;h--)this.segments[h].update(this.segments[h+1].pos);if(x(this.x,this.y,n.x,n.y)<=this.l+x(t.x,t.y,n.x,n.y)){this.segments[0].fallback({x:this.x,y:this.y});for(let h=1;h<this.n;h++)this.segments[h].fallback(this.segments[h-1].nextPos)}}show(t){if(x(this.x,this.y,t.x,t.y)<=this.l&&e){e.globalCompositeOperation="lighter",e.beginPath(),e.lineTo(this.x,this.y);for(let h=0;h<this.n;h++)this.segments[h].show();let n=e.createLinearGradient(0,0,r.width,r.height);n.addColorStop(0,m.tentacle_start),n.addColorStop(1,m.tentacle_end),e.strokeStyle=n,e.lineWidth=this.rand*4,e.lineCap="round",e.lineJoin="round",e.stroke(),e.globalCompositeOperation="source-over"}}show2(t){e&&(e.beginPath(),x(this.x,this.y,t.x,t.y)<=this.l?(e.arc(this.x,this.y,2*this.rand+2,0,2*Math.PI),e.fillStyle=m.dots_border_color):(e.arc(this.x,this.y,this.rand*2,0,2*Math.PI),e.fillStyle=m.dots_color),e.fill())}}for(let i=0;i<P;i++)g.push(new A(Math.random()*M,Math.random()*u,Math.random()*(v-_)+_,O,Math.random()*2*Math.PI));const D=()=>{if(e){l.x?(s.errx=l.x-s.x,s.erry=l.y-s.y):(s.errx=M/2+(u/2-k)*Math.sqrt(2)*Math.cos(p)/(Math.pow(Math.sin(p),2)+1)-s.x,s.erry=u/2+(u/2-k)*Math.sqrt(2)*Math.cos(p)*Math.sin(p)/(Math.pow(Math.sin(p),2)+1)-s.y),s.x+=s.errx/10,s.y+=s.erry/10,p+=.01,e.beginPath(),e.arc(s.x,s.y,x(y.x,y.y,s.x,s.y)+5,0,2*Math.PI),e.fillStyle=m.center_color,e.fill();for(let i=0;i<P;i++)g[i].move(y,s),g[i].show2(s);for(let i=0;i<P;i++)g[i].show(s);y.x=s.x,y.y=s.y}},E=i=>{l.x=i.pageX-r.offsetLeft,l.y=i.pageY-r.offsetTop},L=i=>{l.x=0,l.y=0},S=i=>{},b=i=>{},q=()=>{M=r.width=window.innerWidth,u=r.height=window.innerHeight,B(),document.addEventListener("mousemove",E,!1),document.addEventListener("mouseleave",L),document.addEventListener("mousedown",S,!1),document.addEventListener("mouseup",b,!1),window.addEventListener("resize",q),z()};document.addEventListener("mousemove",E,!1),document.addEventListener("mouseleave",L),document.addEventListener("mousedown",S,!1),document.addEventListener("mouseup",b,!1),window.addEventListener("resize",q);const z=()=>{e==null||e.clearRect(0,0,M,u),D(),requestAnimationFrame(z)};z();const B=()=>{document.removeEventListener("mousemove",E,!1),document.removeEventListener("mouseleave",L),document.removeEventListener("mousedown",S,!1),document.removeEventListener("mouseup",b,!1),window.removeEventListener("resize",q)};o.onBeforeUnmount(()=>{B()})};return o.onMounted(()=>{W()}),(r,e)=>(o.openBlock(),o.createElementBlock("div",{class:"amazing__spider-wrapper",style:o.normalizeStyle({background:r.$props.background_color})},T,4))}}),[["__scopeId","data-v-11c8bc56"]])});
